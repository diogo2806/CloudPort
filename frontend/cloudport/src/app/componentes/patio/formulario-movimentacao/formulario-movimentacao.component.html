<section class="formulario-ordem">
  <header>
    <h2>Planejar ordem de movimentação</h2>
    <p>Cadastre ordens de trabalho para que os operadores executem as movimentações no pátio. A atualização do inventário ocorre somente após a confirmação da ordem.</p>
  </header>

  <div class="estado" *ngIf="carregandoOpcoes">Carregando dados de apoio...</div>

  <form [formGroup]="formularioOrdem" (ngSubmit)="submeterOrdem()" class="bloco">
    <div class="duas-colunas">
      <div class="campo">
        <label for="ordem-codigo">Código do contêiner</label>
        <input id="ordem-codigo" type="text" formControlName="codigo" required />
      </div>
      <div class="campo">
        <label for="ordem-tipo-movimento">Tipo de movimento</label>
        <select id="ordem-tipo-movimento" formControlName="tipoMovimento" required>
          <option value="" disabled>Selecione</option>
          <option *ngFor="let tipo of opcoes?.tiposMovimento" [value]="tipo">{{ formatarRotulo(tipo) }}</option>
        </select>
      </div>
    </div>

    <div class="duas-colunas">
      <div class="campo">
        <label for="ordem-tipo-carga">Tipo de carga</label>
        <input id="ordem-tipo-carga" type="text" formControlName="tipoCarga" />
      </div>
      <div class="campo">
        <label for="ordem-status-destino">Status após conclusão</label>
        <select id="ordem-status-destino" formControlName="statusConteinerDestino" required>
          <option value="" disabled>Selecione</option>
          <option *ngFor="let status of opcoes?.statusConteiner" [value]="status">{{ formatarRotulo(status) }}</option>
        </select>
      </div>
    </div>

    <div class="duas-colunas">
      <div class="campo">
        <label for="ordem-destino">Destino</label>
        <input id="ordem-destino" type="text" formControlName="destino" required />
      </div>
      <div class="campo">
        <label for="ordem-camada">Camada operacional</label>
        <input id="ordem-camada" type="text" formControlName="camadaDestino" required />
      </div>
    </div>

    <div class="duas-colunas">
      <div class="campo">
        <label for="ordem-linha">Linha</label>
        <input id="ordem-linha" type="number" formControlName="linhaDestino" min="0" required />
      </div>
      <div class="campo">
        <label for="ordem-coluna">Coluna</label>
        <input id="ordem-coluna" type="number" formControlName="colunaDestino" min="0" required />
      </div>
    </div>

    <div class="acoes">
      <button type="submit" [disabled]="salvandoOrdem">Registrar ordem</button>
      <button type="button" class="secundario" (click)="limparFormularioOrdem()">Limpar campos</button>
    </div>
    <p class="mensagem sucesso" *ngIf="sucessoOrdem">{{ sucessoOrdem }}</p>
    <p class="mensagem erro" *ngIf="erroOrdem">{{ erroOrdem }}</p>
  </form>
</section>
